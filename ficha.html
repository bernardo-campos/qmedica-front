<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">

  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/semantic-ui@2.4.2/dist/semantic.min.css">

  <script
    src="https://code.jquery.com/jquery-3.1.1.min.js"
    integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8="
    crossorigin="anonymous"></script>


  <style type="text/css">
    body {
      background-color: #FFFFFF;
    }
    .ui.menu .item img.logo {
      margin-right: 1.5em;
    }
    .main.container {
      margin-top: 1.5em;
    }

    /* Consultas realizadas */
    .tiempo {
      flex-basis: 110px!important;
      flex-grow: 0!important;
    }

    .pt-0 {
      padding-top: 0!important;
    }
    .mt-0 {
      margin-top: 0!important;
    }


    /* Botones a la derecha */
    #botones-derecha {
      /* display: flex;
      flex-direction: column; */
    }
    #opciones {
      /* position: fixed;
      right: 0;
      top: 53px; */
      /* width: 100px; */
    }
    #controles {
      /* position: fixed;
      right: 0;
      bottom: 0; */
      /* width: 100px; */
    }

    /* ========= IMPRESION ========= */
    @media print {
      #opciones,
      #controles,
      .modal button.close,
      .no-print {
        display: none;
      }
      .printThis {
          background-color: white;
          height: 100%;
          width: 100%;
          position: fixed;
          top: 0;
          left: 0;
          margin: 0;
          padding: 15px;
          font-size: 14px;
          line-height: 18px;
      }
    }

    </style>

  <title>Semantic UI example</title>
</head>
<body>

  <div class="ui main text container">

  <div class="ui vertical segment pt-0" id="tope">

    <!-- Botones de la derecha -->
    <div class="ui right very close rail">
      <div id="botones-derecha" class="ui sticky">
        <div id="opciones" class="ui vertical buttons">
          <button class="ui button abrirModal" data-modal="#modalNota">Nota</button>
          <button class="ui button abrirModal" data-modal="#modalEx">Ex</button>
          <button class="ui button abrirModal" data-modal="#modalRp">Rp</button>
          <button class="ui button abrirModal" data-modal="#modalL">L</button>
          <button class="ui button abrirModal" data-modal="#modalDx">Dx</button>
          <button class="ui button abrirModal" data-modal="#modalCx">Cx</button>
          <button class="ui button abrirModal" data-modal="#modalAnt">Ant</button>
          <button class="ui icon button"><i class="print icon"></i></button>
        </div>

        <br><br><br><br><br><br><br><br>

        <div id="controles" class="ui vertical buttons">
          <button class="ui button">Inicio</button>
          <button class="ui icon button"><i class="angle up icon"></i></button>
          <button class="ui icon button"><i class="angle down icon"></i></button>
          <button class="ui button">Fin</button>
        </div>
      </div>

    </div>
    <!-- ui right attached rail -->

    <!-- Datos Paciente -->
    <div class="ui raised segment sticky mt-0">
      <div>Apellido y nombre - 99 años</div>
      <div id="resumen">
        <div id="antecedentes" class="antecedentes">
          <span class="text-primary">Antecedentes:&nbsp;</span><span class="val">Aquí van los antecedentes del paciente...</span>
        </div>
        <div id="diagnosticos">
          <span class="text-primary">Diagnósticos:&nbsp;</span><span class="val">Aquí va el último diagnóstico realizado</span>
        </div>
        <div id="ultimos-lentes">
          <span class="text-primary">Últ. lentes:&nbsp;</span>
          <span class="reverse L"><span class="val"></span> <span class="text-primary">L&nbsp;</span></span>
          <span class="reverse C"><span class="val">+1.75/+1.75</span> <span class="text-primary">C&nbsp;</span></span>
          <span class="reverse lenteObs"><span class="val"></span> <span class="text-primary">Obs:&nbsp;</span></span>
        </div>
        <div id="cirugias">
          <span class="text-primary">Cirugias:&nbsp;</span><span class="val"></span>
        </div>
      </div>
    </div>

    <!-- Consultas realizadas -->
    <div id="consultas" class="ui segments">
      <div id="copiar0" class="ui horizontal segments consulta">
        <div class="ui segment tiempo">
          <div>22/11/2017</div>
          <small>hace 2 años</small>
        </div>
        <div class="ui segment">

          <div class="font-italic nota">Esta es una nueva nota </div>
          <div class="examen">
            <span class="reverse mc"><span class="val">mc</span> <span class="text-primary">MC&nbsp;</span></span>
            <span class="reverse app"><span class="val">app</span> <span class="text-primary">APP&nbsp;</span></span>
            <span class="reverse av"><span class="val">avoi/avod</span> <span class="text-primary">AV&nbsp;</span></span>
            <span class="reverse bmc"><span class="val">bmcoi/bmcod</span> <span class="text-primary">BMC&nbsp;</span></span>
            <span class="reverse pio"><span class="val">piooi/piood</span> <span class="text-primary">PIO&nbsp;</span></span>
            <span class="reverse obi"><span class="val">obioi/obiod</span> <span class="text-primary">OBI&nbsp;</span></span>
          </div>
          <div class="rp">
            <span class="reverse">
              <span class="d-flex val"><span class="rp1">nuevo rp; cada x horas</span><span class="rp1">nuevox2</span></span>
              <span class="text-primary">Rp&nbsp;</span>
            </span>
          </div>
          <div class="lente">
            <span class="reverse L"><span class="val">lejosoi/lejosod</span> <span class="text-primary">L&nbsp;</span></span>
            <span class="reverse C"><span class="val">cercaoi/cercaod</span> <span class="text-primary">C&nbsp;</span></span>
            <span class="reverse lenteObs"><span class="val">Esta es observacion</span> <span class="text-primary">Obs:&nbsp;</span></span>
          </div>
          <div class="dx">
            <span class="reverse"><span class="val">esto es diagnostico</span> <span class="text-primary">Dx&nbsp;</span></span>
          </div>
          <div class="cx">
            <div class="d-flex">
              <span class="reverse cirugia">
                <span class="val">nombreCx</span>
                <span class="text-primary">Cx&nbsp;</span>
              </span>
              <span class="reverse observacion">
                <span class="val font-italic">Esta es obs. de la cirugia</span>
              </span>
            </div>
          </div>

        </div>
      </div>
    </div>
  </div>

  </div>
  <!-- .container -->





  <!-- Nota -->
  <div id="modalNota" class="ui modal">
    <i class="close icon"></i>
    <div class="header">
      Nota
    </div>
    <div class="content">
      <form class="ui form">
        <div class="field">
          <!-- <label>Nota</label> -->
          <textarea name="nota" rows="4" cols="40"></textarea>
        </div>
      </form>
    </div>
    <div class="actions">
      <div class="ui black deny button">
        Cancelar
      </div>
      <div class="ui positive deny button">
        Guardar
      </div>
    </div>
  </div>

  <!-- Examen -->
  <div id="modalEx" class="ui modal">
    <i class="close icon"></i>
    <div class="header">
      Examen
    </div>
    <div class="content">
      <form class="ui form">

        <div class="field">
          <label>MC</label>
          <input type="text" name="mc" placeholder="MC">
        </div>
        <div class="field">
          <label>APP</label>
          <input type="text" name="app" placeholder="APP">
        </div>
        <div class="field">
          <label>AV - OI</label>
          <input type="text" name="avoi" placeholder="AV - OI">
        </div>
        <div class="field">
          <label>AV - OD</label>
          <input type="text" name="avod" placeholder="AV - OD">
        </div>
        <div class="field">
          <label>BMC - OI</label>
          <input type="text" name="bmcoi" placeholder="BMC - OI">
        </div>
        <div class="field">
          <label>BMC - OD</label>
          <input type="text" name="bmcod" placeholder="BMC - OD">
        </div>
        <div class="field">
          <label>PIO - OI</label>
          <input type="text" name="piooi" placeholder="PIO - OI">
        </div>
        <div class="field">
          <label>PIO - OD</label>
          <input type="text" name="piood" placeholder="PIO - OD">
        </div>
        <div class="field">
          <label>OBI - OI</label>
          <input type="text" name="obioi" placeholder="OBI - OI">
        </div>
        <div class="field">
          <label>OBI - OD</label>
          <input type="text" name="obiod" placeholder="OBI - OD">
        </div>

      </form>
    </div>
    <div class="actions">
      <div class="ui black deny button">
        Cancelar
      </div>
      <div class="ui positive deny button">
        Guardar
      </div>
    </div>
  </div>

  <!-- Rp -->
  <div id="modalRp" class="ui modal">
    <i class="close icon"></i>
    <div class="header">
      Rp
    </div>
    <div class="content">
      <form class="ui form">
        <div class="field">
          <input type="text" name="rp[]" placeholder="Rp">
        </div>
      </form>
    </div>
    <div class="actions">
      <div class="ui black deny button">
        Cancelar
      </div>
      <button type="button" class="ui positive deny button">
        Guardar
      </button>
    </div>
  </div>

  <!-- Lentes -->
  <div id="modalL" class="ui modal">
    <i class="close icon"></i>
    <div class="header">
      Lentes
    </div>
    <div class="content">
      <form class="ui form">

        <div class="field">
          <label>Lejos - OI</label>
          <input type="text" name="lejosoi" placeholder="Lejos - OI">
        </div>
        <div class="field">
          <label>Lejos - OD</label>
          <input type="text" name="lejosod" placeholder="Lejos - OD">
        </div>
        <div class="field">
          <label>Cerca - OI</label>
          <input type="text" name="cercaoi" placeholder="Cerca - OI">
        </div>
        <div class="field">
          <label>Cerca - OD</label>
          <input type="text" name="cercaod" placeholder="Cerca - OD">
        </div>
        <div class="field">
          <label>Observación</label>
          <textarea name="lenteObservacion" rows="2" cols="80" placeholder="Observación"></textarea>
        </div>

      </form>
    </div>
    <div class="actions">
      <div class="ui black deny button">
        Cancelar
      </div>
      <div class="ui positive deny button">
        Guardar
      </div>
    </div>
  </div>

  <!-- Diagnostico -->
  <div id="modalDx" class="ui modal">
    <i class="close icon"></i>
    <div class="header">
      Diagnóstico
    </div>
    <div class="content">
      <form class="ui form">
        <div class="field">
          <!-- <label>modalDx</label> -->
          <input type="text" name="diagnostico" placeholder="Diagnóstico">
        </div>
      </form>
    </div>
    <div class="actions">
      <div class="ui black deny button">
        Cancelar
      </div>
      <div class="ui positive deny button">
        Guardar
      </div>
    </div>
  </div>

  <!-- Cirugía -->
  <div id="modalCx" class="ui modal">
    <i class="close icon"></i>
    <div class="header">
      Cirugía
    </div>
    <div class="content">
      <form class="ui form">

        <div class="field">
          <label>Cirugía</label>
          <input type="text" name="cirugiaNombre" placeholder="Cirugía">
        </div>
        <div class="field">
          <label>Observación</label>
          <textarea name="cirugiaObservacion" rows="2" cols="80" placeholder="Observación"></textarea>
        </div>

      </form>
    </div>
    <div class="actions">
      <div class="ui black deny button">
        Cancelar
      </div>
      <div class="ui positive deny button">
        Guardar
      </div>
    </div>
  </div>

  <!-- Antecedentes -->
  <div id="modalAnt" class="ui modal">
    <i class="close icon"></i>
    <div class="header">
      Antecedentes
    </div>
    <div class="content">
      <form class="ui form">

        <div class="field">
          <!-- <label>modalAnt</label> -->
          <input type="text" name="antecedentes" placeholder="Antecedentes">
        </div>

      </form>
    </div>
    <div class="actions">
      <div class="ui black deny button">
        Cancelar
      </div>
      <div class="ui positive deny button">
        Guardar
      </div>
    </div>
  </div>

<script src="https://cdn.jsdelivr.net/npm/semantic-ui@2.4.2/dist/semantic.min.js"></script>
<script type="text/javascript">

  $(document).ready(function() {

    $('.ui.sticky')
      .sticky({
        context: '#tope'
      })
    ;

    $('.ui.dropdown').dropdown();

    $('.ui.modal')
      .modal({
        centered: false
      })
    ;

    for (var i = 0; i < 6; i++) {
      segment = $('#copiar0').clone().removeAttr('id');
      $('#consultas').append(segment);
    }

    $('.abrirModal').click(function(){
      selectorModal = $(this).attr('data-modal');
      $(selectorModal).modal('show');
    });

  });


  // Agregar linea rp (En modal-rp)
  $(document).on('keypress', 'input[name="rp[]"]', function(e){
    let field = `<div class="field">
      <input type="text" name="rp[]" placeholder="Rp">
    </div>`;
    // Si presiona [ENTER]
    if (e.which == 13) {
      e.preventDefault();
      // si el input esta vacio => agregar otro
      if ($(this).val() != "") {
        if ($('#modalRp form.ui.form input').last().val() != "") {
          $('#modalRp form.ui.form').append(field);
          $('#modalRp form.ui.form input').last().focus();
          //   .autoComplete({
          //   minChars: 2,
          //   source: function(term, suggest){
          //       term = term.toLowerCase();
          //       var choices = rps;
          //       var matches = [];
          //       for (i=0; i<choices.length; i++)
          //         if (choices[i].toLowerCase().startsWith(term))
          //           matches.push(choices[i]);
          //       suggest(matches);
          //   }
          // }).focus();
        }
        $(this).next('input').focus();
      }
      else {
        $('#modalRp .positive').focus();
      }
    }
  });


</script>
</body>
</html>
